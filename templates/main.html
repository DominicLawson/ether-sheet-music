<!DOCTYPE html>
<html>

    <head>

        <meta charset="UTF-8">

        <title>Ether Sheet Music</title>

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="stylesheet" type="text/css" href="./css/abcjs-midi.css">

        <link href="./css/main.css" rel="stylesheet">
        <link href="./js/lib/vextab.css" rel="stylesheet">

    </head>

    <body class="container-fluid">

        <div id="message-area" class="alert alert-info"></div>

        <div id="music-navigator">

            <div class="pull-right d-none d-lg-block" id="donation-top">
                <p>Your Address : <b id="address-section"></b></p>
                <div id="donation-bar">
                    <span id="donation-top-raised"></span>
                    <div id="donation-bar-fill">
                    </div>
                </div>
            </div>

            <h1>Ether Sheet Music Project</h1>

        </div>

        <ul class="nav nav-tabs" id="myTab" role="tablist">

            <li class="nav-item">
                <a class="nav-link active" id="music-view-tab" data-toggle="tab" href="#music-main" role="tab">Music</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" id="music-create-tab" data-toggle="tab" href="#music-create" role="tab">Create a Note</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" id="games-completed-tab" data-toggle="tab" href="#music-stats" role="tab">Stats</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" id="about-tab" data-toggle="tab" href="#about" role="tab">About</a>
            </li>

        </ul>

        <div class="tab-content" id="myTabContent">

            <div class="tab-pane fade show active" id="music-main" role="tabpanel">

                <h2>What is this?</h2>

                <p>This is a project that utilizes Ethereum smart contracts to create a piece of music that anyone can contribute too. The question we wish to answer? Can the internet come as one to create a piece of art. Please install <a href="https://metamask.io/" target="_blank">Meta Mask</a> to view and contribute to the piece! Since this is still in alpha, point your Meta-Mask to the Ropsten test network to start testing.</p>

                <p> All code is available here <a href="http://github.com/chuckfairy/ether-sheet-music">http://github.com/chuckfairy/ether-sheet-music</a>. If you would like to see other cool projects like this, consider sending us funds at 0xNEED_TO_FILL_IN</p>

                <br>

                <h2>Hear the Piece</h2>

                <div id="music-piece-midi">
                    <img class="loader-img" src="./assets/loader.gif">
                </div>
                <div id="music-piece-midi-download"></div>

                <br>

                <h2>See the Piece</h2>

                <div class="container" style="margin: 0 auto;">
                    <div id="music-piece" >
                        <img class="loader-img" src="./assets/loader.gif">
                    </div>
                </div>

            </div>

            <div class="tab-pane fade" id="music-create" role="tabpanel">

                {% include "create-note.html" %}

            </div>

            <div class="tab-pane fade" id="music-stats" role="tabpanel">

                <h2>Global Stats</h2>

                <div id="global-stats">
                    <img class="loader-img" src="./assets/loader.gif">
                </div>

                <h2>Composers</h2>

                <div id="composer-stats" class="container-fluid">
                    <img class="loader-img" src="./assets/loader.gif">
                </div>

            </div>

            <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="contact-tab">

                {% include "about.html" %}

            </div>

        </div>

        <script
               src="https://code.jquery.com/jquery-3.3.1.min.js"
               integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
               crossorigin="anonymous"></script>

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script src="./js/lib/nunjucks.min.js"></script>
        <script src="./js/lib/async.min.js"></script>
        <script src="./js/lib/vextab-div.js"></script>
        <script src="./js/lib/abcjs_midi_3.3.2-min.js"></script>

        <script src="./js/util/Utils.js"></script>
        <script src="./js/util/EventDispatcher.js"></script>
        <script src="./js/util/AJAX.js"></script>
        <script src="./js/util/Templater.js"></script>

        <script>

//Contract data

var abi = {{ abi | safe }};
var contract = web3.eth.contract( abi );


//Instance

var instance = contract.at( "{{ contract.address }}" );


//Midi data dump from node

var Midi = {{ Midi | dump | safe }};

        </script>

        <script src="./js/Namespace.js"></script>
        <script src="./js/Music.js"></script>
        <script src="./js/UI.js"></script>
        <script src="./js/Main.js"></script>

    </body>

</html>
